---
layout: default
---

<!-- ==== PRELOAD HERO IMAGE (CRITICAL FOR LCP) ==== -->
{% assign hero_img = page.hero_image | default: page.thumbnail %}
{% if hero_img %}
<link rel="preload"
      as="image"
      href="{{ hero_img | relative_url }}?width=1200&format=webp"
      imagesrcset="{{ hero_img | relative_url }}?width=1200&format=webp 1200w,
                  {{ hero_img | relative_url }}?width=800&format=webp 800w,
                  {{ hero_img | relative_url }}?width=600&format=webp 600w"
      imagesizes="(max-width: 767px) 90vw, 800px"
      fetchpriority="high">
{% endif %}

<!-- ==== META FOR DISCOVER & SOCIAL ==== -->
<meta name="robots" content="index, follow">
<meta property="og:title" content="{% if page.discover_title %}{{ page.discover_title }}{% else %}{{ page.title }}{% endif %}">
<meta property="og:description" content="{{ page.description | truncate: 160 }}">
{% if hero_img %}
  <meta property="og:image" content="{{ hero_img | absolute_url }}?width=1200&format=webp">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ hero_img | absolute_url }}?width=1200&format=webp">
{% endif %}
<link rel="canonical" href="{{ page.url | absolute_url }}">

<!-- ==== DEFERRED CRITICAL CSS (EXTERNAL) ==== -->
<link rel="stylesheet" 
      href="{{ '/assets/css/details.min.css' | relative_url }}" 
      media="print" 
      onload="this.media='all'">
<noscript>
  <link rel="stylesheet" href="{{ '/assets/css/details.min.css' | relative_url }}">
</noscript>

<!-- ==== SAFE IMAGE LOADER (NO INFINITE LOOP) ==== -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll('img[data-fallback]').forEach(img => {
      const fallback = img.getAttribute('data-fallback');
      img.onerror = function() {
        if (this.src !== fallback && fallback) {
          this.src = fallback;
          this.onerror = null;
        }
      };
    });
  });
</script>

<style>
  .cta-section {
  text-align: center;
  margin-top: 3rem;
  padding: 2rem 0;
  border-top: 2px solid #000000;
}

.cta-button {
  display: inline-block;
  background: linear-gradient(135deg, #0077cc, #005a99);
  color: white;
  padding: 1rem 2.5rem;
  text-decoration: none;
  border-radius: 50px;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 119, 204, 0.3);
}

.cta-button:hover {
  background: linear-gradient(135deg, #005a99, #0077cc);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 119, 204, 0.4);
  color: white;
  text-decoration: none;
}

</style>

<article class="majstor-story">

  <!-- ==== HERO IMAGE: FULLY OPTIMIZED ==== -->
  {% if hero_img %}
    {% assign hero_url = hero_img | relative_url %}
    <picture>
      <source 
        srcset="{{ hero_url }}?width=1200&format=webp 1200w,
                {{ hero_url }}?width=800&format=webp 800w,
                {{ hero_url }}?width=600&format=webp 600w"
        sizes="(max-width: 767px) 90vw, 800px"
        type="image/webp">
      <img 
        src="{{ hero_url }}?width=800&format=webp"
        alt="{{ page.discover_title | default: page.title }} ‚Äì hero slika"
        class="hero-image"
        width="1200"
        height="630"
        loading="eager"
        decoding="async"
        fetchpriority="high"
        data-fallback="/assets/images/fallback-majstor.webp"
        style="aspect-ratio:1200/630;">
    </picture>
  {% endif %}

  <h1 class="page-title">
    {{ page.discover_title | default: page.title }}
  </h1>

  {% if page.author %}
  <div class="author-bio">
    <p><strong>Napisao:</strong> {{ page.author }} |
       {{ page.date | default: site.time | date: '%d. %m. %Y' }} |
       <a href="/o-nama/">O autoru</a></p>
    <p>{{ page.author_bio | default: 'Ej Majstore! tim istra≈æuje i testira majstore ≈°irom Srbije.' }}</p>
  </div>
  {% endif %}

  

  <!-- ==== DYNAMIC CONTENT SECTIONS ==== -->
  {% for s in page.sections %}
    {% case s.type %}
      {% when 'h1' %}<h1 class="section-h1">{{ s.content }}</h1>
      {% when 'h2' %}<h2 class="section-h2">{{ s.content }}</h2>
      {% when 'h3' %}<h3 class="section-h3">{{ s.content }}</h3>
      {% when 'p' %}<p class="section-p">{{ s.content | newline_to_br }}</p>
      {% when 'ul' %}
        <ul class="section-ul">
          {% for i in s.items %}<li>{{ i }}</li>{% endfor %}
        </ul>
      {% when 'ol' %}
        <ol class="section-ol">
          {% for i in s.items %}<li>{{ i }}</li>{% endfor %}
        </ol>

      {% when 'image' %}
        {% assign img_url = s.src | relative_url %}
        <figure class="section-figure">
          <picture>
            <source srcset="{{ img_url }}?width=800&format=webp 800w,
                            {{ img_url }}?width=600&format=webp 600w"
                    sizes="(max-width: 767px) 90vw, 800px"
                    type="image/webp">
            <img 
              src="{{ img_url }}?width=800"
              alt="{{ s.alt | default: page.ime }}"
              width="800"
              height="600"
              loading="lazy"
              decoding="async"
              style="aspect-ratio:4/3;"
              data-fallback="/assets/images/fallback-majstor.webp">
          </picture>
          {% if s.caption %}
            <figcaption>{{ s.caption }}</figcaption>
          {% endif %}
        </figure>

      {% when 'youtube' %}
        {% assign video_id = s.id %}
        
        <figure class="section-figure youtube-figure">
          <div class="youtube-wrapper" style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
            <iframe 
              src="https://www.youtube-nocookie.com/embed/{{ video_id }}?rel=0"
              title="{{ s.title | default: 'YouTube video' }}"
              loading="lazy"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;">
            </iframe>
          </div>
          {% if s.caption %}
            <figcaption>{{ s.caption }}</figcaption>
          {% endif %}
        </figure>

      {% when 'blockquote' %}
        <blockquote class="section-blockquote">
          {{ s.content }}
        </blockquote>
    {% endcase %}
  {% endfor %}

  <!-- ==== TIPS SECTION ==== -->
  {% if page.tips.size > 0 %}
  <div class="tips-section">
    <h3>{{ page.tips_title | default: '5 Praktiƒçnih Saveta' }}</h3>
    <ul>
      {% for t in page.tips %}<li>{{ t }}</li>{% endfor %}
    </ul>
  </div>
  {% endif %}

  <!-- ==== USLUGE SECTION (original look) ==== -->
  {% if page.services.size > 0 %}
  <div style="margin-top:2rem;">
    <h2 style="font-size:1.6rem;color:#000000;margin-bottom: 2rem;">Usluge</h2>
    {% for srv in page.services %}
    <div style="background:#ffffff;padding:1rem;border-radius:8px;margin-bottom:1rem;border: 1px solid black;">
      <h3 style="margin:0 0 .5rem;color:#1F2A44;">{{ srv.title }}</h3>
      <p style="margin:0;color:#555;">{{ srv.description }}</p>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- ==== FAQ SECTION (original look) ==== -->
  {% if page.faq.size > 0 %}
  <div style="margin-top:2.5rem;">
    <h2 style="font-size:1.6rem;color:#1F2A44;margin-bottom: 2rem;">ƒåesto postavljana pitanja</h2>
    {% for q in page.faq %}
    <div style="background:#ffffff;padding:1rem;border-radius:8px;margin-bottom:1rem;border:4px solid #007bff;">
      <h3 style="margin:0 0 .5rem;cursor:pointer;display:flex;justify-content:space-between;align-items:center;"
          onclick="let a=this.nextElementSibling,t=this.querySelector('span');a.style.display=a.style.display==='block'?'none':'block';t.textContent=t.textContent==='+'?'-':'+'">
        {{ q.question }} <span style="font-weight:bold;font-size:1.2rem;color:#007bff;">+</span>
      </h3>
      <div style="display:none;margin-top:.5rem;color:#555;"><p style="margin:0;">{{ q.answer }}</p></div>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- ==== SHARE BUTTONS ==== -->
  <div class="share-section">
    <p>Podeli Izvoƒëaƒça sa drugima:</p>
    <a href="https://api.whatsapp.com/send?text={{ page.title | uri_escape }}%20{{ site.url }}{{ page.url }}" 
       target="_blank" rel="noopener" class="share-btn whatsapp">WhatsApp</a>
    <a href="viber://forward?text={{ page.title | uri_escape }}%20{{ site.url }}{{ page.url }}"
       class="share-btn viber">Viber</a>
    <a href="https://t.me/share/url?url={{ site.url }}{{ page.url }}&text={{ page.title | uri_escape }}" 
       target="_blank" rel="noopener" class="share-btn telegram">Telegram</a>
  </div>


  <div class="cta-section">
    <a href="/izvodjaci" class="cta-button">
      üìñ Pogledajte druge izvoƒëaƒçe
    </a>
  </div>

</article>



<!-- Article Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{% if page.discover_title %}{{ page.discover_title }}{% else %}{{ page.title }}{% endif %}",
  "description": "{{ page.description | truncate: 250 }}",
  {% if hero_img %}
  "image": "{{ hero_img | absolute_url }}?width=1200&format=webp",
  {% endif %}
  "author": {
    "@type": "Person",
    "name": "{{ page.author | default: 'Ej Majstore! Tim' }}",
    "url": "https://ejmajstore.rs/author/{{ page.author_slug | default: 'team' }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ej Majstore!",
    "logo": { "@type": "ImageObject", "url": "https://ejmajstore.rs/assets/logo.png" }
  },
  "datePublished": "{{ page.date | default: site.time | date: '%Y-%m-%d' }}",
  "dateModified": "{{ page.last_modified | default: site.time | date: '%Y-%m-%d' }}",
  "mainEntityOfPage": { "@type": "WebPage", "@id": "{{ page.url | absolute_url }}" }
}
</script>

<!-- LocalBusiness Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "{{ page.ime | escape }}",
  "description": "{{ page.description | strip }}",
  {% if page.thumbnail %}
  "image": "{{ page.thumbnail | absolute_url }}?width=800&format=webp",
  {% endif %}
  "url": "{{ page.url | absolute_url }}",
  "telephone": "{{ page.kontakt_telefon | strip | escape }}",
  "email": "{{ page.email | strip | escape }}",
  {% if page.website != 'Nema dostupan website' %}
  "sameAs": "{{ page.website.url | default: page.website }}",
  {% endif %}
  "address": {
    "@type": "PostalAddress",
    {% if page.address != 'Nema dostupnu adresu' %}
    "streetAddress": "{{ page.address | escape }}",
    {% else %}
    "addressLocality": "{{ page.mesto | split: ', ' | first | escape }}",
    {% endif %}
    "addressCountry": "RS"
  },
  "openingHours": "Mo-Su 08:00-20:00",
  "priceRange": "$$",
  "areaServed": [
    {% for m in page.mesto | split: ', ' %}"{{ m | strip | escape }}"{% unless forloop.last %},{% endunless %}{% endfor %}
  ]
  {% if page.services.size > 0 %}
  ,"makesOffer": [
    {% for s in page.services %}
    { "@type": "Offer",
      "itemOffered": {
        "@type": "Service",
        "name": "{{ s.title | escape }}",
        "description": "{{ s.description | escape }}"
      }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
  {% endif %}
}
</script>

<!-- FAQ Schema -->
{% if page.faq.size > 0 %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {% for f in page.faq %}
    { "@type": "Question",
      "name": "{{ f.question | escape }}",
      "acceptedAnswer": { "@type": "Answer", "text": "{{ f.answer | escape }}" }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>
{% endif %}