---
layout: default
marketing_content: true
---

<!-- ==== PRELOAD HERO IMAGE (CRITICAL FOR LCP) ==== -->
{% assign hero_img = page.hero_image | default: page.thumbnail %}
{% if hero_img %}
<link rel="preload"
      as="image"
      href="{{ hero_img | relative_url }}?width=1200&format=webp"
      imagesrcset="{{ hero_img | relative_url }}?width=1200&format=webp 1200w,
                  {{ hero_img | relative_url }}?width=800&format=webp 800w,
                  {{ hero_img | relative_url }}?width=600&format=webp 600w"
      imagesizes="(max-width: 767px) 90vw, 800px"
      fetchpriority="high">
{% endif %}

<!-- ==== META FOR DISCOVER & SOCIAL ==== -->
<meta name="robots" content="index, follow">
<meta property="og:title" content="{% if page.discover_title %}{{ page.discover_title }}{% else %}{{ page.title }}{% endif %}">
<meta property="og:description" content="{{ page.description | truncate: 160 }}">
{% if hero_img %}
  <meta property="og:image" content="{{ hero_img | absolute_url }}?width=1200&format=webp">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ hero_img | absolute_url }}?width=1200&format=webp">
{% endif %}
<link rel="canonical" href="{{ page.url | absolute_url }}">

<!-- ==== DEFERRED CRITICAL CSS (EXTERNAL) ==== -->
<link rel="stylesheet" 
      href="{{ '/assets/css/details.min.css' | relative_url }}" 
      media="print" 
      onload="this.media='all'">
<noscript>
  <link rel="stylesheet" href="{{ '/assets/css/details.min.css' | relative_url }}">
</noscript>

<!-- ==== SAFE IMAGE LOADER (NO INFINITE LOOP) ==== -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll('img[data-fallback]').forEach(img => {
      const fallback = img.getAttribute('data-fallback');
      img.onerror = function() {
        if (this.src !== fallback && fallback) {
          this.src = fallback;
          this.onerror = null;
        }
      };
    });
  });
</script>

<style>
  .cta-section {
  text-align: center;
  margin-top: 3rem;
  padding: 2rem 0;
  border-top: 2px solid #000000;
}

.cta-button {
  display: inline-block;
  background: linear-gradient(135deg, #0077cc, #005a99);
  color: white;
  padding: 1rem 2.5rem;
  text-decoration: none;
  border-radius: 50px;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 119, 204, 0.3);
}

.cta-button:hover {
  background: linear-gradient(135deg, #005a99, #0077cc);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 119, 204, 0.4);
  color: white;
  text-decoration: none;
}


.share-btn.copy-link {
    background: #000000; /* Black for contrast */
}

.share-btn.copy-link:hover {
    background: #333333; /* Darker on hover */
}



/* ==== STICKY DIRECT CONTACT BUTTONS - MOBILE & TABLET ONLY ==== */
.direct-contact-container {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  
  border-radius: 16px;
  
  padding: 16px 20px;
  z-index: 1000;
  width: calc(100% - 40px);
  font-family: inherit;
  display: none; /* Hidden by default */
  max-width: 65%;
}

/* Show only on tablets and phones (max-width: 1024px covers most tablets) */
@media (max-width: 1024px) {
  .direct-contact-container {
    display: block;
    position: fixed;
    bottom: 0; /* Dock it to the absolute bottom */
    left: 0;
    right: 0;
    transform: none; /* Remove the centering hack */
    padding: 10px 15px; /* Thinner padding */
    border-radius: 0; /* Squared edges feel more 'app-like' on bottom */
    
  }

  .direct-contact-title {
    display: none; /* KILL the title. The icons speak for themselves. */
  }

  .direct-contact-btn-wrapper {
    display: flex; /* Put buttons SIDE BY SIDE */
    gap: 10px;
  }

  .direct-contact-btn {
    margin: 0;
    font-size: 0.9rem; /* Smaller text for side-by-side */
    flex: 1; /* Both buttons take equal space */
    max-width: fit-content;
  }
}





.marketing-label {
  font-size: 0.95rem;
  font-weight: 600;
  color: #d9534f; /* red-ish to indicate attention */
  margin: 0.5rem 0 1rem 0;
  display: inline-block;
}

/* Extra polish for small phones */
@media (max-width: 480px) {
  .direct-contact-container {
    bottom: 15px;
    padding: 14px 16px;
    border-radius: 14px;
  }
  
  .direct-contact-btn {
    padding: 12px 16px;
    font-size: 1rem;
  }
}

/* Kontejner koji prekida skrolovanje */
.lead-hijack-container {
    background: #fffcf5; /* Blago krem boja, asocira na papir/zanat */
    border-left: 5px solid #ff6b35; /* Jaka narand≈æasta "traka" pa≈ænje */
    border-top: 1px solid #ffe0b2;
    border-bottom: 1px solid #ffe0b2;
    border-right: 1px solid #ffe0b2;
    border-radius: 4px 16px 16px 4px;
    padding: 24px;
    margin: 2.5rem 0;
    box-shadow: 0 8px 20px rgba(0,0,0,0.05);
}

.lead-hijack-tag {
    font-size: 0.7rem;
    font-weight: 800;
    text-transform: uppercase;
    color: #ff6b35;
    letter-spacing: 1px;
    margin-bottom: 8px;
    display: block;
}

.lead-hijack-title {
    font-size: 1.3rem !important;
    color: #1a1a1a !important;
    margin: 0 0 12px 0 !important;
    line-height: 1.2 !important;
}

.lead-hijack-text {
    font-size: 1rem !important;
    color: #4a4a4a !important;
    margin-bottom: 20px !important;
    line-height: 1.5 !important;
}

/* Dugme koje dominira na palcu (Mobile Optimized) */
.lead-hijack-btn {
    display: flex !important;
    align-items: center;
    justify-content: center;
    background: #ff6b35 !important;
    color: #ffffff !important;
    text-decoration: none !important;
    padding: 16px 24px !important;
    border-radius: 50px !important;
    font-weight: 700 !important;
    font-size: 1.05rem !important;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
}

.lead-hijack-btn:active {
    transform: scale(0.96); /* Efekat klika na mobilnom */
}

.lead-hijack-btn i {
    margin-left: 10px;
}

/* Sticky Form Button */
.sticky-form-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #ff6b35;
  color: white;
  padding: 12px 24px;
  border-radius: 50px;
  text-decoration: none;
  font-weight: bold;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 1000;
  display: none;
}

@media (max-width: 1024px) {
  .sticky-form-button {
    display: block;
  }
}



/* General Form Styles */
.form-section {
  background: #f9fafb;
  padding: 3rem 0;
  margin-top: 2rem;
  border-top: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
}

.form-container {
  max-width: 600px;
  margin: 0 auto;
  padding: 0 1rem;
  border: 5px solid #ffae00;
  border-radius: var(--radius-md, 0.375rem);
  padding: 2rem;
  background: #ffffff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.form-container h2 {
  font-size: 1.875rem;
  font-weight: 700;
  color: #1f2937;
  margin-bottom: 1.5rem;
  text-align: center;
}

/* Form Messages */
#form-success,
#form-error {
  transition: opacity 0.3s ease;
}

/* Form Elements */
#contact-form {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.form-group {
  position: relative;
  margin-bottom: 1rem;
}

.form-group input,
.form-group textarea {
  width: 100%;
  padding: 1rem 1.25rem;
  border: 1px solid #d1d5db;
  border-radius: var(--radius-md, 0.375rem);
  font-size: 1rem;
  color: #374151;
  background: #ffffff;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.form-group input:focus,
.form-group textarea:focus {
  border-color: var(--secondary, #3b82f6);
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  outline: none;
}

.form-group label {
  position: absolute;
  top: 0.75rem;
  left: 1.25rem;
  font-size: 1rem;
  color: #9ca3af;
  pointer-events: none;
  transition: all 0.2s ease;
}

.form-group input:not(:placeholder-shown) + label,
.form-group textarea:not(:placeholder-shown) + label,
.form-group input:focus + label,
.form-group textarea:focus + label {
  top: -0.75rem;
  left: 1rem;
  font-size: 0.75rem;
  color: var(--secondary, #3b82f6);
  background: #ffffff;
  padding: 0 0.25rem;
}

.form-group textarea {
  resize: vertical;
  min-height: 120px;
}

/* Checkbox Group */
.form-group[style*="flex"] {
  margin-bottom: 1rem;
}

.form-group[style*="flex"] label {
  position: static;
  color: var(--gray, #6b7280);
  font-size: 0.875rem;
  line-height: 1.25rem;
}

.form-group[style*="flex"] a {
  color: var(--secondary, #3b82f6);
  text-decoration: underline;
  transition: color 0.2s ease;
}

.form-group[style*="flex"] a:hover {
  color: darken(var(--secondary, #3b82f6), 10%);
}

/* Submit Button */
#contact-form button {
  background: var(--secondary, #3b82f6);
  color: #ffffff;
  font-weight: 600;
  font-size: 1rem;
  padding: 1rem;
  border: none;
  border-radius: var(--radius-md, 0.375rem);
  cursor: pointer;
  transition: background 0.2s ease, transform 0.1s ease;
}



#contact-form button:active {
  transform: translateY(1px);
}

#contact-form button:disabled {
  background: #9ca3af;
  cursor: not-allowed;
}

/* Sticky Form Button */
.sticky-form-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #ff6b35;
  color: white;
  padding: 12px 24px;
  border-radius: 50px;
  text-decoration: none;
  font-weight: bold;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  z-index: 1000;
  display: block;
}

/* Responsive Adjustments */
@media (max-width: 640px) {
  .form-container {
    padding: 1.5rem;
  }

  .form-container h2 {
    font-size: 1.5rem;
  }

  .form-group input,
  .form-group textarea {
    padding: 0.875rem 1rem;
  }

  #contact-form button {
    padding: 0.875rem;
  }

  .sticky-form-button {
    bottom: 15px;
    right: 15px;
    padding: 10px 20px;
    font-size: 0.9rem;
  }
}

</style>

<article class="majstor-story">

  <!-- ==== HERO IMAGE: FULLY OPTIMIZED ==== -->
  {% if hero_img %}
    {% assign hero_url = hero_img | relative_url %}
    <picture>
      <source 
        srcset="{{ hero_url }}?width=1200&format=webp 1200w,
                {{ hero_url }}?width=800&format=webp 800w,
                {{ hero_url }}?width=600&format=webp 600w"
        sizes="(max-width: 767px) 90vw, 800px"
        type="image/webp">
      <img 
        src="{{ hero_url }}?width=800&format=webp"
        alt="{{ page.discover_title | default: page.title }} ‚Äì hero slika"
        class="hero-image"
        width="1200"
        height="630"
        loading="eager"
        decoding="async"
        fetchpriority="high"
        data-fallback="/assets/images/fallback-majstor.webp"
        style="aspect-ratio:1200/630;">
    </picture>
  {% endif %}
<p style="margin: 0.75rem 0 1.25rem 0; line-height: 1.4;">
  <span style="
    display: inline-block;
    padding: 0.2rem 0.45rem;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    color: #b52b27;
    background-color: #fdecea;
    border-radius: 4px;
    vertical-align: middle;
  ">
    üì¢ Marketin≈°ki sadr≈æaj
  </span>
  <span style="
    margin-left: 0.4rem;
    font-size: 0.85rem;
    color: #555;
    vertical-align: middle;
  ">
  Ovaj sadr≈æaj je pripremljen u marketin≈°ke svrhe i ne predstavlja nezavisnu uredniƒçku preporuku.
  </span>
</p>


  <h1 class="page-title">
  {{ page.discover_title | default: page.title }}
</h1>


  {% if page.author %}
  <div class="author-bio">
    <p><strong>Uredio:</strong> {{ page.author }} |
      <strong>A≈æurirano:</strong> {{ page.last_modified | default: site.time | date: '%d. %m. %Y' }} |
       <a href="/o-nama/">O autoru</a></p>
    <p>{{ page.author_bio | default: 'Ej Majstore! tim istra≈æuje i testira majstore ≈°irom Srbije.' }}</p>
  </div>
  {% endif %}

  {% assign has_contact_form = page.sections | where: "type", "contact_form" | size %}

  

  <!-- ==== DYNAMIC CONTENT SECTIONS ==== -->
  {% for s in page.sections %}
    {% case s.type %}
      {% when 'h1' %}<h1 class="section-h1">{{ s.content }}</h1>
      {% when 'h2' %}<h2 class="section-h2">{{ s.content }}</h2>
      {% when 'h3' %}<h3 class="section-h3">{{ s.content }}</h3>
      {% when 'p' %}<p class="section-p">{{ s.content | newline_to_br }}</p>
      {% when 'ul' %}
        <ul class="section-ul">
          {% for i in s.items %}<li>{{ i }}</li>{% endfor %}
        </ul>
      {% when 'ol' %}
        <ol class="section-ol">
          {% for i in s.items %}<li>{{ i }}</li>{% endfor %}
        </ol>

        {% when 'hijack' %}
      <div class="lead-hijack-container">
        {% if s.tag %}<div class="lead-hijack-tag">{{ s.tag }}</div>{% endif %}
        <h3 class="lead-hijack-title">{{ s.title }}</h3>
        <p class="lead-hijack-text">{{ s.content }}</p>
        <a href="{{ s.url }}" class="lead-hijack-btn">
          {{ s.btn_text }} <i class="fa-solid fa-arrow-right"></i>
        </a>
      </div>

      {% when 'image' %}
        {% assign img_url = s.src | relative_url %}
        <figure class="section-figure">
          <picture>
            <source srcset="{{ img_url }}?width=800&format=webp 800w,
                            {{ img_url }}?width=600&format=webp 600w"
                    sizes="(max-width: 767px) 90vw, 800px"
                    type="image/webp">
            <img 
              src="{{ img_url }}?width=800"
              alt="{{ s.alt | default: page.ime }}"
              width="800"
              height="600"
              loading="lazy"
              decoding="async"
              style="aspect-ratio:4/3;"
              data-fallback="/assets/images/fallback-majstor.webp">
          </picture>
          {% if s.caption %}
            <figcaption>{{ s.caption }}</figcaption>
          {% endif %}
        </figure>

      {% when 'youtube' %}
        {% assign video_id = s.id %}
        
        <figure class="section-figure youtube-figure">
          <div class="youtube-wrapper" style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
            <iframe 
              src="https://www.youtube-nocookie.com/embed/{{ video_id }}?rel=0"
              title="{{ s.title | default: 'YouTube video' }}"
              loading="lazy"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;">
            </iframe>
          </div>
          {% if s.caption %}
            <figcaption>{{ s.caption }}</figcaption>
          {% endif %}
        </figure>

      {% when 'blockquote' %}
        <blockquote class="section-blockquote">
          {{ s.content }}
        </blockquote>

      {% when 'contact_form' %}
        <section id="form" class="form-section">
          <div class="form-container">
            <h2 id="form-title">{{ s.title }}</h2>

            <div id="form-success" style="display:none; margin-top:2rem; padding:1.5rem; background:#ecfdf5; border-radius:var(--radius-md); color:#065f46; text-align:center; font-weight:700; font-size:1.15rem;">
              {{ s.success_message }}
            </div>
            <div id="form-error" style="display:none; margin-top:2rem; padding:1.5rem; background:#fee2e2; border-radius:var(--radius-md); color:#991b1b; text-align:center; font-weight:700; font-size:1.15rem;">
              {{ s.error_message }}
            </div>

            <form id="contact-form" action="{{ s.action }}" method="POST">
              <input type="hidden" name="_email.subject" value="{{ s.email_subject }}">
              
              <input type="hidden" name="_append" value="false">
              <input type="hidden" name="business" value="{{ s.business }}">
              <input type="text" name="_honeypot" value="" style="display:none;">

              <div class="form-group">
                <input type="text" name="ime" id="ime" placeholder=" " required>
                <label for="ime">{{ s.label_name }}</label>
              </div>

              <div class="form-group">
                <input type="tel" name="telefon" id="telefon" placeholder=" " required>
                <label for="telefon">{{ s.label_phone }}</label>
              </div>

              <div class="form-group">
                <textarea name="poruka" id="poruka" rows="5" placeholder=" "></textarea>
                <label for="poruka">{{ s.label_message }}</label>
              </div>

              <div class="form-group" style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 2rem; text-align: left;">
                <input type="checkbox" id="consent" name="consent_given" required style="width: 20px; height: 20px; cursor: pointer; accent-color: var(--secondary); margin-top: 4px;">
                <label for="consent" style="position: static; font-size: 0.95rem; color: var(--gray); pointer-events: auto; cursor: pointer; line-height: 1.4;">
                  Saglasan sam sa <a href="/politika-privatnosti/" target="_blank" style="color: var(--secondary); text-decoration: underline;">politikom privatnosti</a> i dajem dozvolu da me {{ s.label_consent | raw }} kontaktira povodom ovog upita.
                </label>
              </div>

              <button type="submit">{{ s.button_text }}</button>
            </form>
          </div>
        </section>
    {% endcase %}
  {% endfor %}

  <!-- ==== TIPS SECTION ==== -->
  {% if page.tips.size > 0 %}
  <div class="tips-section">
    <h3>{{ page.tips_title | default: '5 Praktiƒçnih Saveta' }}</h3>
    <ul>
      {% for t in page.tips %}<li>{{ t }}</li>{% endfor %}
    </ul>
  </div>
  {% endif %}

  

  <!-- ==== FAQ SECTION (original look) ==== -->
  {% if page.faq.size > 0 %}
  <div style="margin-top:2.5rem;">
    <h2 style="font-size:1.6rem;color:#1F2A44;margin-bottom: 2rem;">ƒåesto postavljana pitanja</h2>
    {% for q in page.faq %}
    <div style="background:#ffffff;padding:1rem;border-radius:8px;margin-bottom:1rem;border:4px solid #007bff;">
      <h3 style="margin:0 0 .5rem;cursor:pointer;display:flex;justify-content:space-between;align-items:center;"
          onclick="let a=this.nextElementSibling,t=this.querySelector('span');a.style.display=a.style.display==='block'?'none':'block';t.textContent=t.textContent==='+'?'-':'+'">
        {{ q.question }} <span style="font-weight:bold;font-size:1.2rem;color:#007bff;">+</span>
      </h3>
      <div style="display:none;margin-top:.5rem;color:#555;"><p style="margin:0;">{{ q.answer }}</p></div>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- ==== SHARE BUTTONS (only copy link) ==== -->
<div class="share-section">
  <p>Podeli Izvoƒëaƒça sa drugima:</p>
  <button id="copyLinkBtn" class="share-btn copy-link">Kopiraj Link</button>
</div>




  <div class="cta-section">
    <a href="/izvodjaci" class="cta-button">
      üìñ Pogledajte druge izvoƒëaƒçe
    </a>
  </div>

</article>

{% if has_contact_form > 0 %}
<a href="#form-title" class="sticky-form-button">Po≈°alji Upit</a>
{% endif %}



<script>
  
document.addEventListener("DOMContentLoaded", function() {
    const copyButton = document.getElementById('copyLinkBtn');
    if (copyButton) {
      // Get the absolute URL from the canonical link
      const urlToCopy = document.querySelector('link[rel="canonical"]').href;

      copyButton.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(urlToCopy);
          
          // Provide feedback to the user
          copyButton.textContent = 'Kopirano!'; 
          copyButton.style.backgroundColor = '#28a745'; // Green feedback
          
          // Reset button text and color after a short delay
          setTimeout(() => {
            copyButton.textContent = 'Kopiraj Link';
            copyButton.style.backgroundColor = '#000000'; // Reset to original black
          }, 2000);

        } catch (err) {
          console.error('Nije moguƒáe kopirati link: ', err);
          copyButton.textContent = 'Gre≈°ka pri kopiranju!';
        }
      });
    }
  });

  </script>

{% if has_contact_form > 0 %}
<script>
document.addEventListener('DOMContentLoaded', () => {
  const contactForm = document.getElementById('contact-form');
  const successMsg = document.getElementById('form-success');
  const errorMsg = document.getElementById('form-error');

  if (contactForm) {
    contactForm.addEventListener('submit', async (e) => {
      e.preventDefault();

      // UI Feedback: Loading state
      const btn = contactForm.querySelector('button');
      const originalBtnText = btn.innerText;
      btn.disabled = true;
      btn.innerText = 'Slanje...';
      
      // Reset visibility for new attempt
      successMsg.style.display = 'none';
      errorMsg.style.display = 'none';

      // CRITICAL FIX: Convert FormData to a plain object for JSON submission
      const formData = new FormData(contactForm);
      const data = Object.fromEntries(formData.entries());

      try {
        const response = await fetch(contactForm.action, {
          method: 'POST',
          headers: { 
            'Content-Type': 'application/json', // Tell the server we are sending JSON
            'Accept': 'application/json'        // Tell the server we want JSON back
          },
          body: JSON.stringify(data)
        });

        if (response.ok) {
          // 1. Success UI
          successMsg.style.opacity = '0';
          successMsg.style.display = 'block';
          
          // Smooth fade in
          setTimeout(() => { successMsg.style.opacity = '1'; }, 10);
          
          // 2. Clear the form fields
          contactForm.reset();
          
          // 3. Reset Button
          btn.disabled = false;
          btn.innerText = originalBtnText;

          // 4. Scroll to the message
          successMsg.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        } else {
          // Capture response error details in console for debugging
          const errorData = await response.json();
          console.error('Formspark Error:', errorData);
          throw new Error('Submission failed');
        }
      } catch (error) {
        console.error('Network Error:', error);
        errorMsg.style.display = 'block';
        btn.disabled = false;
        btn.innerText = originalBtnText;
      }
    });
  }
});
</script>
{% endif %}



<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": {{ page.ime | default: page.title | jsonify }},
  "description": {{ page.description | strip_html | strip_newlines | jsonify }},
  "url": {{ page.url | absolute_url | jsonify }},
  {% if page.thumbnail %}
  "image": {{ page.thumbnail | absolute_url | append: "?width=800&format=webp" | jsonify }},
  {% endif %}
  {% if page.kontakt_telefon and page.kontakt_telefon != "" %}
  "telephone": {{ page.kontakt_telefon | jsonify }},
  {% endif %}
  {% if page.email and page.email != "" and page.email != "Nema" %}
  "email": {{ page.email | jsonify }},
  {% endif %}
  {% if page.website and page.website.url %}
  "sameAs": {{ page.website.url | jsonify }},
  {% elsif page.website and page.website != "" and page.website != "Nema dostupan website" %}
  "sameAs": {{ page.website | jsonify }},
  {% endif %}
  "address": {
    "@type": "PostalAddress",
    "addressLocality": {{ page.mesto | split: ', ' | first | jsonify }},
    {% if page.address and page.address != "" and page.address != "Nema dostupnu adresu" %}
    "streetAddress": {{ page.address | jsonify }},
    {% endif %}
    "addressCountry": "RS"
  },
  "openingHours": {{ page.opening_hours | default: 'Mo-Su 08:00-20:00' | jsonify }},
  "priceRange": "$$",
  "areaServed": [
    {% assign mesta = page.mesto | split: ', ' %}
    {% for m in mesta %}
      {{ m | strip | jsonify }}{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
  {% if page.services and page.services.size > 0 %}
  ,"makesOffer": [
    {% for s in page.services %}
    {
      "@type": "Offer",
      "itemOffered": {
        "@type": "Service",
        "name": {{ s.title | jsonify }},
        "description": {{ s.description | jsonify }}
      }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
  {% endif %}
}
</script>

<!-- FAQ Schema -->
{% if page.faq.size > 0 %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {% for f in page.faq %}
    { "@type": "Question",
      "name": "{{ f.question | escape }}",
      "acceptedAnswer": { "@type": "Answer", "text": "{{ f.answer | escape }}" }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>
{% endif %}