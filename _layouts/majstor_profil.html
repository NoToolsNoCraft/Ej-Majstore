---
layout: default
marketing_content: true
---

<!-- ==== PRELOAD HERO IMAGE (CRITICAL FOR LCP) ==== -->
{% assign hero_img = page.hero_image | default: page.thumbnail %}
{% if hero_img %}
<link rel="preload"
      as="image"
      href="{{ hero_img | relative_url }}?width=1200&format=webp"
      imagesrcset="{{ hero_img | relative_url }}?width=1200&format=webp 1200w,
                  {{ hero_img | relative_url }}?width=800&format=webp 800w,
                  {{ hero_img | relative_url }}?width=600&format=webp 600w"
      imagesizes="(max-width: 767px) 90vw, 800px"
      fetchpriority="high">
{% endif %}

<!-- ==== META FOR DISCOVER & SOCIAL ==== -->
<meta name="robots" content="index, follow">
<meta property="og:title" content="{% if page.discover_title %}{{ page.discover_title }}{% else %}{{ page.title }}{% endif %}">
<meta property="og:description" content="{{ page.description | truncate: 160 }}">
{% if hero_img %}
  <meta property="og:image" content="{{ hero_img | absolute_url }}?width=1200&format=webp">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{ hero_img | absolute_url }}?width=1200&format=webp">
{% endif %}
<link rel="canonical" href="{{ page.url | absolute_url }}">

<!-- ==== DEFERRED CRITICAL CSS (EXTERNAL) ==== -->
<link rel="stylesheet" 
      href="{{ '/assets/css/details.min.css' | relative_url }}" 
      media="print" 
      onload="this.media='all'">
<noscript>
  <link rel="stylesheet" href="{{ '/assets/css/details.min.css' | relative_url }}">
</noscript>

<!-- ==== SAFE IMAGE LOADER (NO INFINITE LOOP) ==== -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll('img[data-fallback]').forEach(img => {
      const fallback = img.getAttribute('data-fallback');
      img.onerror = function() {
        if (this.src !== fallback && fallback) {
          this.src = fallback;
          this.onerror = null;
        }
      };
    });
  });
</script>

<style>
  .cta-section {
  text-align: center;
  margin-top: 3rem;
  padding: 2rem 0;
  border-top: 2px solid #000000;
}

.cta-button {
  display: inline-block;
  background: linear-gradient(135deg, #0077cc, #005a99);
  color: white;
  padding: 1rem 2.5rem;
  text-decoration: none;
  border-radius: 50px;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 119, 204, 0.3);
}

.cta-button:hover {
  background: linear-gradient(135deg, #005a99, #0077cc);
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 119, 204, 0.4);
  color: white;
  text-decoration: none;
}


.share-btn.copy-link {
    background: #000000; /* Black for contrast */
}

.share-btn.copy-link:hover {
    background: #333333; /* Darker on hover */
}



/* ==== STICKY DIRECT CONTACT BUTTONS - MOBILE & TABLET ONLY ==== */
.direct-contact-container {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  border-radius: 16px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2);
  padding: 16px 20px;
  z-index: 1000;
  max-width: 320px;
  width: calc(100% - 40px);
  font-family: inherit;
  border: 1px solid #eee;
  display: none; /* Hidden by default */
}

/* Show only on tablets and phones (max-width: 1024px covers most tablets) */
@media (max-width: 1024px) {
  .direct-contact-container {
    display: block;
    position: fixed;
    bottom: 0; /* Dock it to the absolute bottom */
    left: 0;
    right: 0;
    transform: none; /* Remove the centering hack */
    width: 100%;
    max-width: none;
    background: #ffffff;
    padding: 10px 15px; /* Thinner padding */
    box-shadow: 0 -4px 15px rgba(0,0,0,0.1);
    border-radius: 0; /* Squared edges feel more 'app-like' on bottom */
    border-top: 1px solid #eee;
  }

  .direct-contact-title {
    display: none; /* KILL the title. The icons speak for themselves. */
  }

  .direct-contact-btn-wrapper {
    display: flex; /* Put buttons SIDE BY SIDE */
    gap: 10px;
  }

  .direct-contact-btn {
    margin: 0;
    padding: 10px;
    font-size: 0.9rem; /* Smaller text for side-by-side */
    flex: 1; /* Both buttons take equal space */
  }
}

.direct-contact-title {
  margin: 0 0 12px 0;
  font-size: 1rem;
  text-align: center;
  color: #333;
  font-weight: 600;
}

.direct-contact-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 14px 18px;
  margin: 8px 0;
  border-radius: 50px;
  text-decoration: none;
  font-weight: bold;
  font-size: 1.1rem;
  width: 100%;
  transition: all 0.3s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.whatsapp-direct {
  background: #25D366;
  color: white;
}

.whatsapp-direct:hover {
  background: #1ebe57;
  transform: translateY(-3px);
}

.viber-direct {
  background: #7360F2;
  color: white;
}

.viber-direct:hover {
  background: #6652d8;
  transform: translateY(-3px);
}

.direct-contact-btn i {
  font-size: 1.6rem;
}

.btn-text {
  flex: 1;
  text-align: center;
}

.marketing-label {
  font-size: 0.95rem;
  font-weight: 600;
  color: #d9534f; /* red-ish to indicate attention */
  margin: 0.5rem 0 1rem 0;
  display: inline-block;
}

/* Extra polish for small phones */
@media (max-width: 480px) {
  .direct-contact-container {
    bottom: 15px;
    padding: 14px 16px;
    border-radius: 14px;
  }
  
  .direct-contact-btn {
    padding: 12px 16px;
    font-size: 1rem;
  }
}

</style>

<article class="majstor-story">

  <!-- ==== HERO IMAGE: FULLY OPTIMIZED ==== -->
  {% if hero_img %}
    {% assign hero_url = hero_img | relative_url %}
    <picture>
      <source 
        srcset="{{ hero_url }}?width=1200&format=webp 1200w,
                {{ hero_url }}?width=800&format=webp 800w,
                {{ hero_url }}?width=600&format=webp 600w"
        sizes="(max-width: 767px) 90vw, 800px"
        type="image/webp">
      <img 
        src="{{ hero_url }}?width=800&format=webp"
        alt="{{ page.discover_title | default: page.title }} ‚Äì hero slika"
        class="hero-image"
        width="1200"
        height="630"
        loading="eager"
        decoding="async"
        fetchpriority="high"
        data-fallback="/assets/images/fallback-majstor.webp"
        style="aspect-ratio:1200/630;">
    </picture>
  {% endif %}
<p style="margin: 0.75rem 0 1.25rem 0; line-height: 1.4;">
  <span style="
    display: inline-block;
    padding: 0.2rem 0.45rem;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    color: #b52b27;
    background-color: #fdecea;
    border-radius: 4px;
    vertical-align: middle;
  ">
    üì¢ Marketin≈°ki sadr≈æaj
  </span>
  <span style="
    margin-left: 0.4rem;
    font-size: 0.85rem;
    color: #555;
    vertical-align: middle;
  ">
  Ovaj sadr≈æaj je pripremljen u marketin≈°ke svrhe i ne predstavlja nezavisnu uredniƒçku preporuku.
  </span>
</p>


  <h1 class="page-title">
  {{ page.discover_title | default: page.title }}
</h1>


  {% if page.author %}
  <div class="author-bio">
    <p><strong>Uredio:</strong> {{ page.author }} |
      <strong>A≈æurirano:</strong> {{ page.last_modified | default: site.time | date: '%d. %m. %Y' }} |
       <a href="/o-nama/">O autoru</a></p>
    <p>{{ page.author_bio | default: 'Ej Majstore! tim istra≈æuje i testira majstore ≈°irom Srbije.' }}</p>
  </div>
  {% endif %}

  

  <!-- ==== DYNAMIC CONTENT SECTIONS ==== -->
  {% for s in page.sections %}
    {% case s.type %}
      {% when 'h1' %}<h1 class="section-h1">{{ s.content }}</h1>
      {% when 'h2' %}<h2 class="section-h2">{{ s.content }}</h2>
      {% when 'h3' %}<h3 class="section-h3">{{ s.content }}</h3>
      {% when 'p' %}<p class="section-p">{{ s.content | newline_to_br }}</p>
      {% when 'ul' %}
        <ul class="section-ul">
          {% for i in s.items %}<li>{{ i }}</li>{% endfor %}
        </ul>
      {% when 'ol' %}
        <ol class="section-ol">
          {% for i in s.items %}<li>{{ i }}</li>{% endfor %}
        </ol>

      {% when 'image' %}
        {% assign img_url = s.src | relative_url %}
        <figure class="section-figure">
          <picture>
            <source srcset="{{ img_url }}?width=800&format=webp 800w,
                            {{ img_url }}?width=600&format=webp 600w"
                    sizes="(max-width: 767px) 90vw, 800px"
                    type="image/webp">
            <img 
              src="{{ img_url }}?width=800"
              alt="{{ s.alt | default: page.ime }}"
              width="800"
              height="600"
              loading="lazy"
              decoding="async"
              style="aspect-ratio:4/3;"
              data-fallback="/assets/images/fallback-majstor.webp">
          </picture>
          {% if s.caption %}
            <figcaption>{{ s.caption }}</figcaption>
          {% endif %}
        </figure>

      {% when 'youtube' %}
        {% assign video_id = s.id %}
        
        <figure class="section-figure youtube-figure">
          <div class="youtube-wrapper" style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
            <iframe 
              src="https://www.youtube-nocookie.com/embed/{{ video_id }}?rel=0"
              title="{{ s.title | default: 'YouTube video' }}"
              loading="lazy"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen
              style="position:absolute;top:0;left:0;width:100%;height:100%;border:0;">
            </iframe>
          </div>
          {% if s.caption %}
            <figcaption>{{ s.caption }}</figcaption>
          {% endif %}
        </figure>

      {% when 'blockquote' %}
        <blockquote class="section-blockquote">
          {{ s.content }}
        </blockquote>
    {% endcase %}
  {% endfor %}

  <!-- ==== TIPS SECTION ==== -->
  {% if page.tips.size > 0 %}
  <div class="tips-section">
    <h3>{{ page.tips_title | default: '5 Praktiƒçnih Saveta' }}</h3>
    <ul>
      {% for t in page.tips %}<li>{{ t }}</li>{% endfor %}
    </ul>
  </div>
  {% endif %}

  

  <!-- ==== FAQ SECTION (original look) ==== -->
  {% if page.faq.size > 0 %}
  <div style="margin-top:2.5rem;">
    <h2 style="font-size:1.6rem;color:#1F2A44;margin-bottom: 2rem;">ƒåesto postavljana pitanja</h2>
    {% for q in page.faq %}
    <div style="background:#ffffff;padding:1rem;border-radius:8px;margin-bottom:1rem;border:4px solid #007bff;">
      <h3 style="margin:0 0 .5rem;cursor:pointer;display:flex;justify-content:space-between;align-items:center;"
          onclick="let a=this.nextElementSibling,t=this.querySelector('span');a.style.display=a.style.display==='block'?'none':'block';t.textContent=t.textContent==='+'?'-':'+'">
        {{ q.question }} <span style="font-weight:bold;font-size:1.2rem;color:#007bff;">+</span>
      </h3>
      <div style="display:none;margin-top:.5rem;color:#555;"><p style="margin:0;">{{ q.answer }}</p></div>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  <!-- ==== SHARE BUTTONS (only copy link) ==== -->
<div class="share-section">
  <p>Podeli Izvoƒëaƒça sa drugima:</p>
  <button id="copyLinkBtn" class="share-btn copy-link">Kopiraj Link</button>
</div>




  <div class="cta-section">
    <a href="/izvodjaci" class="cta-button">
      üìñ Pogledajte druge izvoƒëaƒçe
    </a>
  </div>

</article>

<!-- ==== STICKY DIRECT CONTACT BUTTONS ==== -->
<div class="direct-contact-container">
  <p class="direct-contact-title"><strong>Brzi kontakt sa izvoƒëaƒçem:</strong></p>
  
  {% assign phone_clean = page.kontakt_telefon | remove: ' ' | remove: '-' | remove: '.' %}
  {% if phone_clean != '' and phone_clean != 'Nemadostupankontakt' %}
    <a href="https://wa.me/{{ phone_clean | prepend: '' }}?text=Pozdrav,%20video%20sam%20va≈°%20profil%20na%20'Ej%20Majstore!'%20i%20zanima%20me%20ponuda%20vezana%20za..."
       target="_blank"
       class="direct-contact-btn whatsapp-direct"
       onclick="trackLead?.('WhatsApp', '{{ page.ime }}')">
      <i class="fa-brands fa-whatsapp"></i>
      <span class="btn-text">Pi≈°i na WhatsApp</span>
    </a>

    <a href="viber://chat?number=%2B{{ phone_clean | prepend: '' }}?text=Pozdrav,%20video%20sam%20va≈°%20profil%20na%20'Ej%20Majstore!'%20i%20zanima%20me%20ponuda%20vezana%20za..."
       class="direct-contact-btn viber-direct"
       onclick="trackLead?.('Viber', '{{ page.ime }}')">
      <i class="fa-brands fa-viber"></i>
      <span class="btn-text">Pi≈°i na Viber</span>
    </a>
  {% endif %}
</div>

<script>
  
document.addEventListener("DOMContentLoaded", function() {
    const copyButton = document.getElementById('copyLinkBtn');
    if (copyButton) {
      // Get the absolute URL from the canonical link
      const urlToCopy = document.querySelector('link[rel="canonical"]').href;

      copyButton.addEventListener('click', async () => {
        try {
          await navigator.clipboard.writeText(urlToCopy);
          
          // Provide feedback to the user
          copyButton.textContent = 'Kopirano!'; 
          copyButton.style.backgroundColor = '#28a745'; // Green feedback
          
          // Reset button text and color after a short delay
          setTimeout(() => {
            copyButton.textContent = 'Kopiraj Link';
            copyButton.style.backgroundColor = '#000000'; // Reset to original black
          }, 2000);

        } catch (err) {
          console.error('Nije moguƒáe kopirati link: ', err);
          copyButton.textContent = 'Gre≈°ka pri kopiranju!';
        }
      });
    }
  });

  </script>



<!-- Article Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "{% if page.discover_title %}{{ page.discover_title }}{% else %}{{ page.title }}{% endif %}",
  "description": "{{ page.description | truncate: 250 }}",
  {% if hero_img %}
  "image": "{{ hero_img | absolute_url }}?width=1200&format=webp",
  {% endif %}
  "author": {
    "@type": "Person",
    "name": "{{ page.author | default: 'Ej Majstore! Tim' }}",
    "url": "https://ejmajstore.rs/author/{{ page.author_slug | default: 'team' }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Ej Majstore!",
    "logo": { "@type": "ImageObject", "url": "https://ejmajstore.rs/assets/logo.png" }
  },
  "datePublished": "{{ page.date | default: site.time | date: '%Y-%m-%d' }}",
  "dateModified": "{{ page.last_modified | default: site.time | date: '%Y-%m-%d' }}",
  "mainEntityOfPage": { "@type": "WebPage", "@id": "{{ page.url | absolute_url }}" }
}
</script>

<!-- LocalBusiness Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "{{ page.ime | escape }}",
  "description": "{{ page.description | strip }}",
  {% if page.thumbnail %}
  "image": "{{ page.thumbnail | absolute_url }}?width=800&format=webp",
  {% endif %}
  "url": "{{ page.url | absolute_url }}",
  "telephone": "{{ page.kontakt_telefon | strip | escape }}",
  "email": "{{ page.email | strip | escape }}",
  {% if page.website != 'Nema dostupan website' %}
  "sameAs": "{{ page.website.url | default: page.website }}",
  {% endif %}
  "address": {
    "@type": "PostalAddress",
    {% if page.address != 'Nema dostupnu adresu' %}
    "streetAddress": "{{ page.address | escape }}",
    {% else %}
    "addressLocality": "{{ page.mesto | split: ', ' | first | escape }}",
    {% endif %}
    "addressCountry": "RS"
  },
  "openingHours": "{{ page.opening_hours | default: 'Mo-Su 08:00-20:00' }}",
  "priceRange": "$$",
  "areaServed": [
    {% for m in page.mesto | split: ', ' %}"{{ m | strip | escape }}"{% unless forloop.last %},{% endunless %}{% endfor %}
  ]
  {% if page.services.size > 0 %}
  ,"makesOffer": [
    {% for s in page.services %}
    { "@type": "Offer",
      "itemOffered": {
        "@type": "Service",
        "name": "{{ s.title | escape }}",
        "description": "{{ s.description | escape }}"
      }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
  {% endif %}
}
</script>

<!-- FAQ Schema -->
{% if page.faq.size > 0 %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {% for f in page.faq %}
    { "@type": "Question",
      "name": "{{ f.question | escape }}",
      "acceptedAnswer": { "@type": "Answer", "text": "{{ f.answer | escape }}" }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>
{% endif %}