---
layout: default
---
<!-- SCHEMA.ORG JSON-LD MARKUP (UPDATED WITH FAQ!) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "name": "{{ page.ime | escape }}",
  "description": "{% assign opis_fields = 'opis_dugi,opis_dugi2,opis_dugi3,opis_dugi4,opis_dugi5' | split: ',' %}{% for field in opis_fields %}{% assign opis_value = page[field] %}{% if opis_value != nil and opis_value != '' %}{{ opis_value }}{% unless forloop.last %} {% endunless %}{% endif %}{% endfor %}",
  "image": "{{ page.image | absolute_url }}",
  "url": "{{ page.url | absolute_url }}",
  "telephone": "{{ page.kontakt_telefon | strip | escape }}",
  "email": "{{ page.email | strip | escape }}",
  {% if page.website != 'Nema dostupan website' %}
  "url": "{{ page.website }}",
  {% endif %}
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "{{ page.mesto | split: ', ' | first | escape }}",
    "addressCountry": "RS"
  },
  "category": "{{ page.kategorija | join: ', ' | escape }}",  <!-- FIXED: Added | join: ', ' -->
  "openingHours": "Mo-Su 08:00-20:00",
  "priceRange": "$$",
  "areaServed": [
    {% for mesto in page.mesto | split: ', ' %}
    "{{ mesto | strip | escape }}"
    {% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  {% if page.services.size > 0 %}
  "serviceType": [
    {% for service in page.services %}
    "{{ service.title | escape }}"
    {% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
  {% endif %}
}
</script>
<!-- FAQ SCHEMA -->
{% if page.faq.size > 0 %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {% for item in page.faq %}
    {
      "@type": "Question",
      "name": "{{ item.question | escape }}",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "{{ item.answer | escape }}"
      }
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}
</script>
{% endif %}

<style>
  @media (min-width: 768px) {
  section {
    flex-wrap: wrap;
    gap: 24px;
    display: flex;
    flex-direction: column;
  }
  }
  /* Services Styles */
  .services-section { margin-top: 2rem; }
  .service-block {
    background: #f8f9fa;
    padding: 1.5rem;
    margin-bottom: 1rem;
    border-radius: 8px;
    border-left: 4px solid #007bff;
  }
  .service-block h3 { margin: 0 0 0.5rem 0; color: #007bff; }
  .service-block p { margin: 0; color: #555; }
  .section-divider {
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, #007bff, transparent);
    margin: 2rem 0;
    border: none;
  }
  /* Header Row Styles */
  .header-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    margin: 1rem 0;
    flex-wrap: wrap;
  }
  .majstor-image {
    
    border-radius: 8px;
    object-fit: cover;
    flex-shrink: 0;
  }
  .header-row h1 {
    margin: 0;
    text-align: center;
    
    min-width: 200px;
  }
  @media (max-width: 480px) {
    .header-row { flex-direction: column; gap: 0.5rem; }
    
  }
  /* NEW: FAQ Styles */
  .faq-section {
    margin-top: 2rem;
  }
  .faq-item {
    background: white;
    margin-bottom: 1rem;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    overflow: hidden;
  }
  .faq-question {
    background: #007bff;
    color: white;
    padding: 1rem 1.5rem;
    margin: 0;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .faq-answer {
    padding: 1rem 1.5rem;
    margin: 0;
    display: none;
    background: #f8f9fa;
  }
  .faq-answer.show { display: block; }
  .faq-toggle {
    font-size: 1.2rem;
    transition: transform 0.2s;
  }
  .faq-toggle.rotated { transform: rotate(45deg); }
</style>
  
<section class="majstor-profil">
  <a href="{{ '/lista/' | relative_url }}" class="back-button" aria-label="Nazad na listu majstora">← Nazad na listu</a>
  <div class="header-row">
    {% if page.image %}
      <img src="{{ page.image | relative_url }}" alt="{{ page.ime }} logo" class="majstor-image">
    {% endif %}
    <h1>{{ page.ime }}</h1>
  </div>
  <hr class="section-divider">
  <div class="majstor-details">
    <p><strong>Kategorija:</strong> {{ page.kategorija | join: ', ' }}</p>  <!-- FIXED: Added | join: ', ' -->
    <p><strong>Mesto:</strong> {{ page.mesto }}</p>
    <p><strong>Kontakt telefon:</strong> <a href="tel:{{ page.kontakt_telefon }}" aria-label="Pozovi {{ page.ime }}">{{ page.kontakt_telefon }}</a></p>
    <p><strong>Email:</strong> <a href="mailto:{{ page.email }}" aria-label="Pošalji email na {{ page.email }}">{{ page.email }}</a></p>
    
    <p><strong>Website:</strong> 
      {% assign website_url = page.website %}
      {% if website_url != 'Nema dostupan website' and website_url != '' %}
        {% unless website_url contains '://' %}
          {% assign website_url = 'https://' | append: website_url %}
        {% endunless %}
        <a href="{{ website_url | escape }}" target="_blank" rel="noopener noreferrer">
          {{ page.website | escape }}
        </a>
      {% else %}
        Nema dostupan website
      {% endif %}
    </p>

    <hr class="section-divider">
    <h2>O nama</h2>
    {% assign opis_fields = 'opis_dugi,opis_dugi2,opis_dugi3,opis_dugi4,opis_dugi5' | split: ',' %}
    {% for field in opis_fields %}
      {% assign opis_value = page[field] %}
      {% if opis_value != nil and opis_value != '' and opis_value != 'Nema detaljan opis' %}
        <p>{{ opis_value }}</p>
      {% endif %}
    {% endfor %}
    {% unless page.detaljan_opis %}
      <p>Nema detaljan opis</p>
    {% endunless %}
    <hr class="section-divider">
  </div>
  
  {% if page.additional_images.size > 0 %}
  
  <div class="additional-images">
    <h2>Galerija</h2>
    <div class="image-grid">
      {% for img in page.additional_images %}
        {% assign img_url = img %}
        {% unless img contains 'http' %}
          {% assign img_url = img | relative_url %}
        {% endunless %}
        <img src="{{ img_url }}" 
            alt="{{ page.ime }} - Galerija slika" 
            class="gallery-image" 
            onclick="openModal('{{ img_url }}')">
      {% endfor %}
    </div>
  </div>
  {% endif %}

  <!-- NEW: FAQ Section -->
  {% if page.faq.size > 0 %}
  <hr class="section-divider">
  <div class="faq-section">
    <h2 style="margin-bottom: 2rem;">Često Postavljana Pitanja</h2>
    {% for item in page.faq %}
    <div class="faq-item">
      <h3 class="faq-question" onclick="toggleFAQ(this)">
        {{ item.question }}
        <span class="faq-toggle">+</span>
      </h3>
      <div class="faq-answer">
        <p>{{ item.answer }}</p>
      </div>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</section>

<!-- Modal for enlarged images -->
<div id="imageModal" class="modal">
  <span class="close" onclick="closeModal()">&times;</span>
  <img class="modal-content" id="modalImage">
</div>

<script>
  function openModal(src) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    modal.style.display = 'flex';
    modalImg.src = src;
  }
  function closeModal() {
    document.getElementById('imageModal').style.display = 'none';
  }
  window.onclick = function(event) {
    const modal = document.getElementById('imageModal');
    if (event.target === modal) modal.style.display = 'none';
  };

  // NEW: FAQ Toggle Function
  function toggleFAQ(element) {
    const answer = element.nextElementSibling;
    const toggle = element.querySelector('.faq-toggle');
    answer.classList.toggle('show');
    toggle.classList.toggle('rotated');
  }
</script>