---
layout: default
permalink: /izvodjaci/
title: Adresar Zanatskih Usluga i Firmi u Srbiji
description: Pretražite adresar zanatskih uslug i firmi u Srbiji po kategoriji, mestu i tipu (majstor ili firma).
---
<h1 style="margin-top: 2rem;">Pronađite odgovarajuće izvođače – filtrirajte po mestu i usluzi</h1>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css">
<style>

  
  
/* === PAGINATION & FILTERS === */
.pagination-button {
  padding: 8px 12px;
  border: 1px solid #ddd;
  background: #fff;
  color: #333;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.2s;
}
.pagination-button:hover:not(:disabled),
.pagination-button.active { background: #007cba; color: #fff; border-color: #007cba; }
.pagination-button:disabled { opacity: 0.5; cursor: not-allowed; }

#pagination-wrapper { width: 100%; display: block; text-align: left; min-height: 50px; }
#pagination-container {
  display: flex !important; justify-content: flex-start; align-items: center;
  flex-wrap: wrap; gap: 6px; margin: 30px 0 !important; width: 100%; box-sizing: border-box;
}

/* NEW: Mesto Input Styles */
#mesto {
  
  border: 2px solid #000000;

  border-radius: 6px;
  font-size: 18px;
  width: 20%;
  height: 15%;
}
#mesto:focus {
  border-color: #007cba;
  outline: none;
  box-shadow: 0 0 0 2px rgba(0, 124, 186, 0.2);
}

/* === LIST PAGE: FULL-WIDTH, TALL IMAGE CARDS === */
#kartice-kontejner {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); /* WIDER CARDS */
  gap: 28px;
  padding: 0;
  margin: 0;
}

/* CARD */
#kartice-kontejner .majstor-kartica {
  display: flex !important;
  flex-direction: column;
  background: #fff;
  border: 2px solid #000;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 6px 16px rgba(0,0,0,0.12);
  
}
#kartice-kontejner .majstor-kartica:hover {
  transform: translateY(-8px);
  box-shadow: 0 16px 32px rgba(0,0,0,0.18);
}

/* FULL TOP IMAGE BANNER – OVERRIDES style.css */
#kartice-kontejner .majstor-image {
  width: 100% !important;
  height: auto !important;
  aspect-ratio: 1200 / 630 !important;
  object-fit: cover !important;
  object-position: center;
  display: block;
  border-radius: 12px 12px 0 0 !important;
  margin: 0 !important;
  padding: 0 !important;
  max-width: none !important;     /* KILL GLOBAL CAP */
  max-height: none !important;
  min-height: 200px !important;   /* FORCE MINIMUM HEIGHT */
}

/* CONTENT */
#kartice-kontejner .majstor-content {
  padding: 20px;
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
#kartice-kontejner .majstor-content h3 {
  margin: 0;
  font-size: 1.45rem;
  font-weight: 600;
  color: #1F2A44;
  text-align: center;
  line-height: 1.3;
}
#kartice-kontejner .majstor-content p {
  margin: 0;
  font-size: 1rem;
  color: #444;
  line-height: 1.5;
}
#kartice-kontejner .majstor-content a {
  margin-top: auto;
  padding: 12px;
  background: #007cba;
  color: white;
  text-decoration: none;
  border-radius: 8px;
  text-align: center;
  font-weight: 600;
  font-size: 1rem;
  transition: background 0.25s;
}
#kartice-kontejner .majstor-content a:hover {
  background: #005a87;
}

/* === FILTER VISIBILITY CLASSES === */
.majstor-kartica {
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.majstor-kartica.hidden-card {
  visibility: hidden !important;
  opacity: 0 !important;
  position: absolute !important;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: -1;
}

.majstor-kartica.visible-card {
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  pointer-events: auto;
}

/* Prevent flash on image load */
.majstor-image {
  background-color: #f4f4f4; /* light placeholder background */
  transition: opacity 0.8s ease;
  opacity: 0;
  position: absolute;
}

/* When the image finishes loading */
.majstor-image.loaded {
  opacity: 1;
  z-index: 1;
  position: inherit;
}

/* === MOBILE === */
@media (max-width: 767px) {
  #mesto { width: 100%; min-width: 150px; }
  #kartice-kontejner {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  #kartice-kontejner .majstor-image {
    min-height: 180px !important;
  }
  #kartice-kontejner .majstor-content {
    padding: 18px;
  }
}



/* === FILTER SECTION === */
.filter-section {
  display: flex;
  justify-content: center;
  align-items: flex-end;
  gap: 16px;
  flex-wrap: wrap;
  margin: 20px 0;
  padding: 0 10px;
}

.filter-group {
  display: flex;
  flex-direction: column;
  min-width: 180px;
  flex: 1;
  max-width: 250px;
}

.filter-group label {
  margin-bottom: 6px;
  font-weight: 600;
  font-size: 0.95rem;
  color: #333;
}

.filter-group select,
.filter-group input {
  padding: 10px;
  border: 2px solid #000;
  border-radius: 6px;
  font-size: 16px;
  background: #fff;
  transition: border-color 0.2s;
}

.filter-group select:focus,
.filter-group input:focus {
  outline: none;
  border-color: #007cba;
  box-shadow: 0 0 0 2px rgba(0, 124, 186, 0.2);
}

/* Override existing #mesto width */
#mesto {
  width: 100% !important;
  min-width: unset !important;
  margin-bottom: 1rem;
}

/* === MOBILE: Stack vertically === */
@media (max-width: 767px) {
  .filter-section {
    flex-direction: column;
    align-items: stretch;
  }

  .filter-group {
    max-width: none;
    min-width: auto;
  }

  .filter-group select,
  .filter-group input {
    width: 100%;
  }
}


/* ============================================================= */
/* SMART FILTER BAR – MODERAN, KORISNIČKI ORIJENTISAN           */
/* ============================================================= */
.smart-filter-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  align-items: center;
  padding: 20px 10px;
  background: hwb(209 80% 0%);
  border-radius: 12px;
  margin: 20px 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  position: relative;
}

.filter-group {
  position: relative;
  flex: 1;
  min-width: 200px;
  max-width: 280px;
}

.filter-trigger {
  width: 100%;
  padding: 12px 16px;
  background: #ffffff;
  border: 2px solid #000;
  border-radius: 10px;
  font-size: 1rem;
  font-weight: 600;
  color: #1f2a44;
  text-align: left;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}

.filter-trigger:hover {
  border-color: #009de0;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.filter-trigger i {
  font-size: 1.3rem;
  color: #009de0;
}

.trigger-icon {
  margin-left: auto;
  font-size: 0.9rem;
  transition: transform 0.3s ease;
}

.filter-trigger.active .trigger-icon {
  transform: rotate(180deg);
}

.filter-label strong {
  color: #009de0;
}

/* Dropdown */
.filter-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: #fff;
  border: 2px solid #000;
  border-radius: 10px;
  margin-top: 8px;
  max-height: 320px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(0,0,0,0.15);
  z-index: 100;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.25s ease;
}

.filter-dropdown.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.search-box {
  padding: 12px;
  border-bottom: 1px solid #eee;
}

.search-box input {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-size: 0.95rem;
}

.options {
  max-height: 240px;
  overflow-y: auto;
  padding: 8px 0;
}

.options.scrollable::-webkit-scrollbar {
  width: 6px;
}
.options.scrollable::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 3px;
}
.options.scrollable::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 3px;
}

/* === POPRAVKA: Poravnanje radio + tekst u dropdown-u === */
.options label {
  display: flex !important;
  align-items: center;
  gap: 10px;
  padding: 12px 16px;
  cursor: pointer;
  font-size: 0.95rem;
  transition: background 0.2s;
  line-height: 1.4;
}

.options label:hover {
  background: #f0f7ff;
}

.options input[type="radio"] {
  margin: 0 !important; /* uklanja default margin */
  flex-shrink: 0;
  width: 16px;
  height: 16px;
}

/* Reset Button */
.reset-btn {
  padding: 12px 20px;
  background: #ff5e62;
  color: white;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;
  box-shadow: 0 2px 6px rgba(255,94,98,0.3);
}

.reset-btn:hover {
  background: #e64448;
  transform: translateY(-1px);
}

/* Mobile */
@media (max-width: 767px) {
  .smart-filter-bar {
    flex-direction: column;
    align-items: stretch;
  }
  .filter-group {
    min-width: auto;
    max-width: none;
  }
  .filter-trigger {
    font-size: 0.95rem;
  }
}
</style>

<section class="smart-filter-bar">
  <div class="filter-group">
    <button class="filter-trigger" data-filter="tip">
      <i class="fa-solid fa-user"></i>
      <span class="filter-label">Tip: <strong>Svi</strong></span>
      <i class="fa-solid fa-chevron-down trigger-icon"></i>
    </button>
    <div class="filter-dropdown" data-filter="tip">
      <div class="search-box">
        <input type="text" placeholder="Pretraži tip..." autocomplete="off">
      </div>
      <div class="options">
        <label><input type="radio" name="tip" value=""> Svi tipovi</label>
        <label><input type="radio" name="tip" value="majstor"> Majstor</label>
        <label><input type="radio" name="tip" value="firma"> Firma</label>
      </div>
    </div>
  </div>

  <div class="filter-group">
    <button class="filter-trigger" data-filter="kategorija">
      <i class="fa-solid fa-wrench"></i>
      <span class="filter-label">Kategorija: <strong>Sve</strong></span>
      <i class="fa-solid fa-chevron-down trigger-icon"></i>
    </button>
    <div class="filter-dropdown" data-filter="kategorija">
      <div class="search-box">
        <input type="text" placeholder="Pretraži kategoriju..." autocomplete="off">
      </div>
      <div class="options scrollable">
        <label><input type="radio" name="kategorija" value=""> Sve kategorije</label>
        {% assign kategorije = site.data.majstori | map: 'kategorija' | flatten | uniq %}
        {% for kat in kategorije %}
          <label><input type="radio" name="kategorija" value="{{ kat }}"> {{ kat }}</label>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="filter-group">
  <button class="filter-trigger" data-filter="mesto">
    <i class="fa-solid fa-location-dot"></i>
    <span class="filter-label">Mesto: <strong>Svi</strong></span>
    <i class="fa-solid fa-chevron-down trigger-icon"></i>
  </button>
  <div class="filter-dropdown" data-filter="mesto">
    <div class="search-box">
      <input type="text" placeholder="Upiši grad/opštinu..." autocomplete="off">
    </div>
    <div class="options scrollable">
      <label><input type="radio" name="mesto" value=""> Sva mesta</label>
      {% assign mesta = site.data.majstori | map: 'mesto' | flatten | uniq | sort %}
      {% for mesto in mesta %}
        <label><input type="radio" name="mesto" value="{{ mesto }}"> {{ mesto }}</label>
      {% endfor %}
    </div>
  </div>
</div>

  <button id="reset-filters" class="reset-btn">
    <i class="fa-solid fa-rotate-left"></i> Resetuj
  </button>
</section>

<section id="majstori-lista">
  <p style="margin-bottom: 1rem;" id="rezultati-broj" aria-live="polite">Pronađeno: <span id="broj-majstora">{{ site.data.majstori | size }}</span></p>
  <div id="kartice-kontejner">
    {% for majstor in site.data.majstori %}
      {% assign mesta = majstor.mesto | join: ',' %}
      {% assign thumbnail_url = majstor.thumbnail | default: majstor.image | default: 'ej-majstore-thumbnail-with-logo.webp' %}
      <div class="majstor-kartica" data-tip="{{ majstor.tip }}" data-kategorija="{{ majstor.kategorija | join: ',' }}" data-mesto="{{ mesta }}" style="display: none;">
        <img loading="lazy" src="{{ thumbnail_url | relative_url }}" alt="{{ majstor.ime }} thumbnail" class="majstor-image">
        <div class="majstor-content">
          <h3>{{ majstor.ime }}</h3>
          <p><strong>Izvođač: </strong>{{ majstor.tip | capitalize }}</p>
          <p><strong>Usluge: </strong>{{ majstor.kategorija | join: ', ' }}</p> 
          <p><strong>Mesto: </strong>{{ majstor.mesto | join: ', ' }}</p> 
          {% if majstor.opis_kratak %}
            <p>{{ majstor.opis_kratak }}</p>
          {% endif %}
          <a href="/izvodjaci/{% assign city_slug = majstor.mesto[0] | downcase %}{% assign city_slug = city_slug | replace: 'š', 's' | replace: 'Š', 'S' | replace: 'č', 'c' | replace: 'Č', 'C' | replace: 'ć', 'c' | replace: 'Ć', 'C' | replace: 'ž', 'z' | replace: 'Ž', 'Z' | replace: 'đ', 'dj' | replace: 'Đ', 'Dj' | replace: ' ', '-' %}{{ city_slug }}/{{ majstor.slug }}/">Pročitaj više</a>
        </div>
      </div>
    {% endfor %}
  </div>
  
  <!-- Pagination Container -->
<div id="pagination-wrapper">
  <div id="pagination-container" style="display: none;"></div>
</div>

  
  <p id="nema-rezultata" style="display: none;">Nema majstora ili firmi koji odgovaraju izabranim kriterijumima.</p>
</section>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const kartice = document.querySelectorAll('.majstor-kartica');
  const brojMajstora = document.getElementById('broj-majstora');
  const nemaRezultata = document.getElementById('nema-rezultata');
  const paginationContainer = document.getElementById('pagination-container');
  const resetBtn = document.getElementById('reset-filters');

  const ITEMS_PER_PAGE = 10;
  let currentPage = 1;
  let vidljiveKarticeGlobal = [];

  // === Filter Values ===
  const filterValues = { tip: '', kategorija: '', mesto: '' };

  // === Update Label ===
  function updateLabel(filter, value) {
    const trigger = document.querySelector(`[data-filter="${filter}"]`);
    const label = trigger.querySelector('.filter-label strong');
    label.textContent = value || (filter === 'tip' ? 'Svi' : filter === 'kategorija' ? 'Sve' : 'Svi');
  }

  // === Image Loading Logic to apply .loaded class ===
  function setupImageLoaders() {
    document.querySelectorAll('.majstor-image').forEach(img => {
      // Check if the image is already loaded (e.g., from browser cache)
      if (img.complete) {
        img.classList.add('loaded');
      } else {
        // If not loaded, listen for the 'load' event
        img.addEventListener('load', () => {
          img.classList.add('loaded');
        });
        
        // Important: Add error handling for missing images
        img.addEventListener('error', () => {
          // Apply the 'loaded' styles even if the image fails to load,
          // so the placeholder background and layout are corrected.
          img.classList.add('loaded'); 
          // You might also want to set a default background image in CSS 
          // for the .majstor-image element if the default source fails.
          console.error('Image failed to load for:', img.alt);
        });
      }
    });
  }

  // === Toggle Dropdown ===
  document.querySelectorAll('.filter-trigger').forEach(trigger => {
    trigger.addEventListener('click', () => {
      const dropdown = trigger.nextElementSibling;
      const isOpen = dropdown.classList.contains('open');
      
      document.querySelectorAll('.filter-dropdown').forEach(d => d.classList.remove('open'));
      document.querySelectorAll('.filter-trigger').forEach(t => t.classList.remove('active'));
      
      if (!isOpen) {
        dropdown.classList.add('open');
        trigger.classList.add('active');
      }
    });
  });

  // Close on outside click
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.filter-group')) {
      document.querySelectorAll('.filter-dropdown').forEach(d => d.classList.remove('open'));
      document.querySelectorAll('.filter-trigger').forEach(t => t.classList.remove('active'));
    }
  });

  document.querySelectorAll('.search-box input').forEach(input => {
  input.addEventListener('input', (e) => {
    const query = e.target.value.toLowerCase().trim();
    const dropdown = e.target.closest('.filter-dropdown');
    const optionsContainer = dropdown.querySelector('.options');
    const options = dropdown.querySelectorAll('.options label');

    let firstMatch = null;

    options.forEach(label => {
      const text = (label.lastChild?.textContent || '').toLowerCase().trim();
      const matches = text.includes(query);
      label.style.display = matches ? 'flex' : 'none';

      if (matches && !firstMatch) {
        firstMatch = label; // Zapamti prvi match
      }
    });

    // Sakrij "Sva mesta" ako je upisano
    const allOption = dropdown.querySelector('input[value=""]');
    if (allOption) {
      const allLabel = allOption.closest('label');
      allLabel.style.display = query ? 'none' : 'flex';
    }

    // === AUTOMATSKO SKROLOVANJE DO PRVOG PODUDARANJA ===
    if (firstMatch && query) {
      // Sačekaj malo da se DOM ažurira (display: flex)
      requestAnimationFrame(() => {
        const containerRect = optionsContainer.getBoundingClientRect();
        const labelRect = firstMatch.getBoundingClientRect();

        const isVisible = labelRect.top >= containerRect.top &&
                          labelRect.bottom <= containerRect.bottom;

        if (!isVisible) {
          firstMatch.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
      });
    }
  });
});

  // === Mesto: autocomplete + radio sync ===
  const mestoInput = document.querySelector('[data-filter="mesto"] .search-box input');
  const mestoOptions = document.querySelectorAll('[data-filter="mesto"] .options input[type="radio"]');

  mestoInput?.addEventListener('input', () => {
    const value = mestoInput.value.trim();
    // Ako korisnik upiše tačnu vrednost, automatski selektuj
    const matchingRadio = Array.from(mestoOptions).find(radio => 
      radio.value.toLowerCase() === value.toLowerCase()
    );
    if (matchingRadio && value) {
      matchingRadio.checked = true;
      filterValues.mesto = matchingRadio.value;
      updateLabel('mesto', matchingRadio.value);
      filtriraj();
    }
  });

  // Kada se klikne na radio, ažuriraj input
  mestoOptions.forEach(radio => {
    radio.addEventListener('change', () => {
      if (radio.checked) {
        mestoInput.value = radio.value;
      }
    });
  });

  // === Filter Change ===
  document.querySelectorAll('.filter-dropdown input').forEach(input => {
    input.addEventListener('change', (e) => {
      const filter = e.target.name;
      const value = e.target.value;
      filterValues[filter] = value;
      updateLabel(filter, value);
      filtriraj();
      e.target.closest('.filter-dropdown').classList.remove('open');
      e.target.closest('.filter-trigger').classList.remove('active');
    });
  });

  // === Reset ===
  resetBtn.addEventListener('click', () => {
    filterValues.tip = filterValues.kategorija = filterValues.mesto = '';
    document.querySelectorAll('.filter-dropdown input').forEach(i => i.checked = i.value === '');
    document.querySelectorAll('.filter-label strong').forEach(s => {
      const filter = s.closest('.filter-group').querySelector('.filter-trigger').dataset.filter;
      s.textContent = filter === 'tip' ? 'Svi' : filter === 'kategorija' ? 'Sve' : 'Svi';
    });
    filtriraj();
  });

  // === URL Params ===
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('kategorija')) filterValues.kategorija = urlParams.get('kategorija');
  if (urlParams.get('mesto')) filterValues.mesto = urlParams.get('mesto');

  // === Filter Logic (isto kao pre) ===
  function nadjiVidljiveKartice() {
    return Array.from(kartice).filter(kartica => {
      const kTip = kartica.dataset.tip || '';
      const kKategorije = (kartica.dataset.kategorija || '').split(',').map(k => k.trim());
      const kMesta = (kartica.dataset.mesto || '').split(',').map(m => m.trim());

      return (
        (!filterValues.tip || kTip === filterValues.tip) &&
        (!filterValues.kategorija || kKategorije.includes(filterValues.kategorija)) &&
        (!filterValues.mesto || kMesta.includes(filterValues.mesto))
      );
    });
  }

  function prikaziStranu(page) {
    const start = (page - 1) * ITEMS_PER_PAGE;
    const end = start + ITEMS_PER_PAGE;
    const zaPrikaz = vidljiveKarticeGlobal.slice(start, end);

    kartice.forEach(k => {
      k.classList.remove('visible-card');
      k.classList.add('hidden-card');
    });

    zaPrikaz.forEach(k => {
      k.classList.remove('hidden-card');
      k.classList.add('visible-card');
    });
  }

  function filtriraj() {
    vidljiveKarticeGlobal = nadjiVidljiveKartice();
    const total = vidljiveKarticeGlobal.length;

    brojMajstora.textContent = total;
    nemaRezultata.style.display = total === 0 ? 'block' : 'none';

    currentPage = 1;
    prikaziStranu(currentPage);
    kreirajPaginaciju();
  }

  function kreirajPaginaciju() {
    const totalPages = Math.ceil(vidljiveKarticeGlobal.length / ITEMS_PER_PAGE);
    paginationContainer.innerHTML = '';

    if (totalPages <= 1) {
      paginationContainer.style.display = 'none';
      return;
    }

    paginationContainer.style.display = 'inline-flex';

    const prev = document.createElement('button');
    prev.className = 'pagination-button';
    prev.textContent = 'Prethodni';
    prev.disabled = currentPage === 1;
    prev.onclick = () => { currentPage--; prikaziStranu(currentPage); kreirajPaginaciju(); };
    paginationContainer.appendChild(prev);

    for (let i = 1; i <= totalPages; i++) {
      const btn = document.createElement('button');
      btn.className = `pagination-button ${i === currentPage ? 'active' : ''}`;
      btn.textContent = i;
      btn.onclick = () => { currentPage = i; prikaziStranu(currentPage); kreirajPaginaciju(); };
      paginationContainer.appendChild(btn);
    }

    const next = document.createElement('button');
    next.className = 'pagination-button';
    next.textContent = 'Sledeći';
    next.disabled = currentPage === totalPages;
    next.onclick = () => { currentPage++; prikaziStranu(currentPage); kreirajPaginaciju(); };
    paginationContainer.appendChild(next);
  }

  // Init
  Object.keys(filterValues).forEach(filter => {
    if (filterValues[filter]) {
      const input = document.querySelector(`input[name="${filter}"][value="${filterValues[filter]}"]`);
      if (input) input.checked = true;
      updateLabel(filter, filterValues[filter]);
    }
  });

  setupImageLoaders(); // <-- Add this line
  filtriraj();
});
</script>